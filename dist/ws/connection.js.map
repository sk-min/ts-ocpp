{"version":3,"file":"connection.js","sourceRoot":"","sources":["../../src/ws/connection.ts"],"names":[],"mappings":"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"}